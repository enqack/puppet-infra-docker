---

foreman:
  image: iverberk/foreman:packer
  hostname: foreman.localdomain
  ports:
    - "443:443"
  links:
    - "puppetmaster:puppetmaster.localdomain"
  volumes_from:
    - foremandata

foremandata:
  image: busybox
  command: false
  volumes:
    - /var/lib/pgsql/data

puppetmaster:
  image: iverberk/puppetmaster:packer
  hostname: puppetmaster.localdomain
  expose:
    - "8140"
    - "8443"
  links:
    - "puppetdb:puppetdb.localdomain"

puppetdb:
  image: iverberk/puppetdb:packer
  hostname: puppetdb.localdomain
  ports:
    - "8080:8080"
  expose:
    - "8081"
  volumes_from:
    - puppetdbdata

puppetdbdata:
  image: busybox
  command: true
  volumes:
    - /var/lib/pgsql/data